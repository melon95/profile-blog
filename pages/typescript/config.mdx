---
title: 配置文件
keyword: TypeScript 入门 配置文件
---

# 配置文件

`TypeScript` 配置文件可通过执行 `tsc --init` 来生成。

`tsconfig.json` 分为 3 个部分：

- 根字段：关乎到 `TypeScript` 项目的启动
- 编译选项：涵盖了 `TypeScript` 怎么工作
- 监听选项：配置监听模式启动的方式和过程

下面会按照分类罗列出部分常用的字段，更多的字段和说明请查看[官方文档](https://www.typescriptlang.org/tsconfig)

## 根字段

- `files`：指定要需要编译的文件，当只有少量文件很有用
- `extends`：继承其他配置文件，值是文件路径
- `include`：指定需要编译的文件名或模式匹配的数组，这些文件相对于包含 `tsconfig.json`文件的目录解析
- `exclude`：与 `include` 指定需要跳过的文件名或模式匹配的数组
- `references`：项目引用是一种将 `TypeScript` 程序构建成较小部分的方法。使用项目引用可以大大缩短生成和编辑器的交互时间，强制实施组件之间的逻辑分离，并以新的和改进的方式组织代码

## 编译选项

**类型检查**

- `allowUnreachableCode`：允许无法访问的代码
- `alwaysStrict`：是否使用严格模式
- `exactOptionalPropertyTypes`：更严格的处理可选属性，例如：接口声明有一个属性可以是两个字符串之一："dark "或 "light"，否则它不应该出现在对象中
- `noFallthroughCasesInSwitch`：在 `switch` 中，对不包含 `break`、`return` 的步骤报错
- `noImplicitAny`：在某些不存在类型注释的情况下，当 TypeScript 无法推断类型时，它将回退到 `any` 类型
- `noImplicitOverride`：允许子类覆盖父类的方法
- `noImplicitReturns`：检查函数的所有可能，确保有返回值
- `noImplicitThis`：当 `this` 推断为 `any` 时报错
- `noUncheckedIndexedAccess`：通过索引签名来描述对象上具有未知键但已知值的对象
- `strictNullChecks`：是否忽略 `null` 和 `undefined` 的检查
- `noUnusedLocals`：对没有使用的本地变量报错
- `useUnknownInCatchVariables`：将 `catch` 语句中的 `error` 类型由 `any` 变成 `unkonwn`

**模块**

- `baseUrl`：设置基础文件目录来解析相对路径的模块
- `module`：设置程序的模块系统，修改模块会影响 `moduleResolution`
  - `CommonJS`
  - `amd`
  - `umd`
  - `system`
  - `esnext`
  - `nodenext`
- `moduleResolution`：指定模块解析策略
  - `node`
  - `classic`
- `moduleSuffixes`：提供一种方法来覆盖解析模块时要搜索的文件名后缀的默认列表
- `paths`：重新映射相对于 `baseUrl` 解析路径的一系列入口
- `resolveJsonModule`：允许导入 `json`
- `rootDir`：当 `TypeScript` 编译文件时，它会在输出目录中保留与输入目录中相同的目录结构
- `rootDirs`：通知编译器有许多“虚拟”目录充当单个根目录。这允许编译器解析这些“虚拟”目录中的相对模块导入，就像它们合并到一个目录中一样
- `typeRoots`：包的类型文件所在的目录，默认为 `node_modules/@types`
- `types`：如果指定了 types，只有列出的包才会被包括在全局范围内

**生成**

- `declaration`：是否生成 `.d.ts` 文件
- `delcarationDir`：保存 `.d.ts` 文件的目录
- `declarationMap`：生成 Source Map
- `emitDeclarationOnly`：只生成 `.d.ts`，不生成 `.js`
- `removeComments`：移除注释
- `noEmit`：不输出文件

**JavaScript**

- `allowJs`：是否允许导入 `.js` 文件
- `checkJs`：是否检查 `.js` 文件

**语言和环境**

- `emitDecoratorMetadata`：启用元数据
- `experimentalDecorators`：启用装饰器
- `jsx`：控制 JSX 在 `JavaScript` 文件中构造
  - `react`：将 JSX 构造为 `React.createElement` （即时你没有使用 `React` 也需要 `import React from 'react'`）
  - `react-jsx`：将 JSX 构造为 `_jsx` （如果你没有使用 `React` 不需要导入 `React`）
- `jsxFactory`：把 `React.createElement` 替换为其他函数，比如：`preact.h`
- `jsxFragmentFactory`
- `lib`：内置 JS API 的版本
  - ES2020
  - ES2021
  - ESNext
  - DOM
- `target`：编译成 `.js` 的版本
  - es6/es2015
  - es2016
  - es2022
  - esnext
